
<body>
   <div class="flex h-screen overflow-hidden">
     <div id="sidebar-overlay"
            class="fixed inset-0 bg-black/50 z-20 hidden lg:hidden glass backdrop-blur-sm transition-opacity"
            onclick="toggleSidebar()"></div>
          <aside id="sidebar" class="sidebar-transition fixed lg:static inset-y-0 left-0 z-30 w-64 bg-white dark:bg-dark-card border-r border-gray-100 dark:border-dark-border flex flex-col transform -translate-x-full lg:translate-x-0 shadow-xl lg:shadow-none h-full">
    
              <div class="flex items-center justify-center h-20 border-b border-gray-100 dark:border-dark-border flex-shrink-0 px-4">
                  <img src="../assets/img/logo/pengenumroh.png" alt="Logo" class="h-10 w-auto object-contain">
              </div>

              <div class="flex-1 overflow-y-auto no-scrollbar py-4 px-3 space-y-1">
                  <p class="px-4 text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2 mt-2">Menu Utama</p>
                  
                  <ul class="space-y-1">
                      <% if (typeof sidebarMenus !== 'undefined' && Array.isArray(sidebarMenus)) { %>
                          <% sidebarMenus.forEach(menu => { %>
                              <%- include('menu_item', { menu: menu }) %>
                          <% }); %>
                      <% } %>
                  </ul>
              </div>

              <div class="p-4 border-t border-gray-100 dark:border-dark-border">
                  </div>

                <div class="p-4 border-t border-gray-100 dark:border-dark-border flex-shrink-0">
                <div class="relative">

                    <div id="profile-dropdown"
                        class="hidden absolute bottom-full left-0 w-full mb-2 bg-white dark:bg-dark-card rounded-xl shadow-xl border border-gray-100 dark:border-dark-border overflow-hidden transition-all z-20 origin-bottom scale-95 opacity-0">

                        <button onclick="openChangePasswordModal()"
                            class="w-full flex items-center gap-3 px-4 py-3 text-left text-sm text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-slate-700/50 hover:text-primary-600 dark:hover:text-primary-400 transition-colors">
                            <i class="ph ph-lock-key text-lg"></i>
                            <span>Ganti Password</span>
                        </button>

                        <div class="border-t border-gray-100 dark:border-dark-border my-0"></div>

                        <button onclick="openLogoutModal()"
                            class="w-full flex items-center gap-3 px-4 py-3 text-left text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-500/10 transition-colors">
                            <i class="ph ph-sign-out text-lg"></i>
                            <span>Keluar Aplikasi</span>
                        </button>
                    </div>

                    <button onclick="toggleProfileMenu()"
                        class="w-full flex items-center gap-3 p-2 rounded-xl hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors text-left group">
                        <img src="https://i.pravatar.cc/150?u=a042581f4e29026704d" alt="Avatar"
                            class="w-10 h-10 rounded-full object-cover border-2 border-white dark:border-gray-600 shadow-sm">

                        <div class="flex-1 min-w-0">
                            <p class="text-sm font-semibold text-gray-900 dark:text-white truncate"><%= username ? username : 'Guest' %></p>
                            <p class="text-xs text-gray-500 dark:text-gray-400 truncate"><%= fullname ? fullname : "Guest"%></p>
                            <!-- <p class="text-xs text-gray-500 dark:text-gray-400 truncate">rakharizki@gmail.com</p> -->
                        </div>

                        <i id="profile-chevron"
                            class="ph ph-caret-up text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-300 transition-transform duration-300"></i>
                    </button>

                </div>
            </div>
          </aside>